<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suite Seat Home</title>
    <link rel="stylesheet" href="/qassets/css/availability.css">
  </head>  

  <body>

    <header class="header">
  <section class="header-group-container">
    <div class="group left-group">Suite Seat</div>
    <div class="header-right-group">
      <span id="user-greeting" style="margin-right: 10px;"></span>
    </div>

    <div class="header-right-group">
  <span id="user-greeting" style="margin-right: 10px;"></span>
  <button id="open-login-popup-btn">Login</button>
  <button id="logout-btn" style="display: none;">Logout</button>
</div>


</div>

  </section>
</header>
<!-- Fixed rail under the header that holds the hamburger -->
<div id="mobile-rail" role="navigation" aria-label="Quick menu">
  <button id="open-sidebar-btn" class="hamburger" aria-label="Open menu" aria-controls="calendar-sidebar" aria-expanded="false">
    <span></span><span></span><span></span>
  </button>
</div>

   <!-- Login Popup -->
<section id="popup-login" class="popup-add-business" style="display: none;">
  <div class="business-section-header">
    <div class="spacer"></div>
    <h2 class="section-title">Login</h2>
    <button type="button" onclick="closeLoginPopup()" style="float:right; border:none; background:none; font-size:18px;">&times;</button>

  </div>

  <form id="login-form">
    <div class="form-group">
      <label for="login-email">Email</label><br>
      <input type="email" id="login-email" required placeholder="Enter your email" />
    </div>

    <div class="form-group">
      <label for="login-password">Password</label><br>
      <input type="password" id="login-password" required placeholder="Enter your password" />
    </div>

    <div class="button-center-wrapper">
      <button type="submit" class="add-business-button">Log In</button>
    </div>
  </form>
</section>
   


<!-- Desktop burger (shows only when sidebar is collapsed) -->
 <div> 
<button id="open-sidebar-btn-desktop"
        class="floating-burger"
        aria-label="Open sidebar"
        title="Open menu">
  <span></span><span></span><span></span>
</button>
</div>
                         <!-- whole bottom sections under Header  -->
 <div class="container">






<!-- Sidebar (one instance only) -->
<aside id="calendar-sidebar">
  <div class="sidebar-header">
    <!-- Desktop hide button -->
    <button id="collapse-sidebar-btn" type="button" class="icon-btn" aria-label="Hide sidebar">‚ùÆ</button>

  

    <!-- Mobile close arrow (shows only on small screens via CSS) -->
    <button id="close-sidebar-btn" type="button" class="close-arrow" aria-label="Close sidebar">‚ùÆ</button>
  </div>

  <div class="sidebar-inner">
    <div class="chooseBusiness">
      <div class="calendar-label"><h3>Calendar</h3></div>

      <div class="form-group" style="margin-top:20px;">
        <label for="dropdown-category-business">Choose Business</label>
        <select id="dropdown-category-business">
          <option value="">-- Select --</option>
        </select>
      </div>

      <div class="form-group" style="margin-top:20px;">
        <label for="dropdown-availability-calendar">Choose Calendar</label>
        <select id="dropdown-availability-calendar" disabled>
          <option value="">-- Select --</option>
        </select>
      </div>
    </div>

    <nav class="side-nav">
      <div class="calendarOptions" data-icon="üõí" data-target="onlineBooking-section" role="button" tabindex="0"><h5>Online Booking Settings</h5></div>
      <div class="calendarOptions" data-icon="üïí" data-target="availability-section" role="button" tabindex="0"><h5>Manage Availability</h5></div>
      <div class="calendarOptions" data-icon="üìÖ" data-target="upcomingHours-section" role="button" tabindex="0"><h5>Adjust Upcoming Hours</h5></div>
      <div class="calendarOptions" data-icon="üå¥" data-target="vacation-section" role="button" tabindex="0"><h5>Manage Vacation Time</h5></div>
    </nav>
  </div>
</aside>

<!-- (optional, for mobile overlay) place once on the page -->
<div id="sidebar-overlay" aria-hidden="true"></div>


 <div class="content-area">     
  
  
     <button id="open-sidebar-btn" class="open-arrow" style="display: none;">‚Üí</button>

<!-- onlineBooking-section  -->
  <div id="onlineBooking-section" style="display: none;">
      <div class="side">
        <h4>Online Booking Settings</h4>
      </div>
    </div>

<!-- weekly availability-section  -->
<div id="availability-section" style="display: none;">
  <div class="side">
    <h4>Edit Availability</h4>
    <button class="orange-sign-up" id="save-availability-btn">Save</button>
  </div>

  <div class="availability-grid">
    <!-- complete availability block  --> 
    <div class="availability-summary-box">
      <h4>Your Weekly Availability</h4>
      <ul id="availability-summary-list"></ul>
    </div>

    <!-- Sunday -->
    <div class="day-block">
      <div class="day-header">
        <span>Sunday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-sunday" data-target="sunday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row sunday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-sunday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-sunday" class="time-select"></select>
        </div>
      </div>
    </div>

    <!-- Monday -->
    <div class="day-block">
      <div class="day-header">
        <span>Monday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-monday" data-target="monday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row monday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-monday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-monday" class="time-select"></select>
        </div>
      </div>
    </div>

    <!-- Tuesday -->
    <div class="day-block">
      <div class="day-header">
        <span>Tuesday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-tuesday" data-target="tuesday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row tuesday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-tuesday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-tuesday" class="time-select"></select>
        </div>
      </div>
    </div>

    <!-- Wednesday -->
    <div class="day-block">
      <div class="day-header">
        <span>Wednesday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-wednesday" data-target="wednesday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row wednesday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-wednesday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-wednesday" class="time-select"></select>
        </div>
      </div>
    </div>

    <!-- Thursday -->
    <div class="day-block">
      <div class="day-header">
        <span>Thursday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-thursday" data-target="thursday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row thursday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-thursday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-thursday" class="time-select"></select>
        </div>
      </div>
    </div>

    <!-- Friday -->
    <div class="day-block">
      <div class="day-header">
        <span>Friday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-friday" data-target="friday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row friday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-friday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-friday" class="time-select"></select>
        </div>
      </div>
    </div>

    <!-- Saturday -->
    <div class="day-block">
      <div class="day-header">
        <span>Saturday</span>
        <label class="toggle-switch">
          <input type="checkbox" class="day-toggle" id="toggle-saturday" data-target="saturday-times" >
          <span class="slider"></span>
        </label>
      </div>
      <div class="time-row saturday-times">
        <div class="time-group">
          <label>START</label>
          <select id="start-saturday" class="time-select"></select>
        </div>
        <div class="time-group">
          <label>END</label>
          <select id="end-saturday" class="time-select"></select>
        </div>
      </div>
    </div>

  </div> <!-- end of availability-grid -->
</div> <!-- end of availability-section -->


<!-- Upcoming Hours -->
<section id="upcomingHours-section">
  <h3>Upcoming Hours</h3>

  <button id="save-upcoming-hours-btn" class="long-save-btn">Save Upcoming Hours</button>
  <div class="week-label">This Week</div>

<div class="calendar-wrapper">
  <div class="calendar-container">

    <!-- Month title + nav -->
    <div class="calendar-header">
      <button id="uh-prev" class="nav-button">‚Äπ</button>
      <div id="uh-monthYear"></div>
      <button id="uh-next" class="nav-button">‚Ä∫</button>
    </div>

    <!-- Weekday labels -->
    <div class="weekdays-grid">
      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div>
      <div>Thu</div><div>Fri</div><div>Sat</div>
    </div>

    <!-- Days go here -->
    <div id="uh-days" class="days-grid"></div>
  </div>
</div>







    
    
<div id="availability-summary-list" style="margin-top: 20px;">
  <h4>Upcoming Availability</h4>
  <div id="availability-list-container">
    <!-- We'll populate this with JS -->
  </div>
</div>

  <!-- Popup -->



  
  <div id="availability-popup" class="popup-add-business" style="display: none;">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 id="popup-title" class="section-title">Available Hour</h2>
        <span id="popup-close" style="float:right; border:none; background:none; font-size:18px; cursor: pointer;">&times;</span>
    </div>
    
<div class="popup-content">
  <h3 id="popup-date-label"></h3>
    
<div class="time-row current-day-times">
 
  <div class="time-group">
 <label>START</label>
<select id="current-day-start" class="time-select">
</select>
 </div>

 <div class="time-group">
<label>END</label>
<select id="current-day-end" class="time-select">
</select>
 </div>
</div>
</div>
    <button id="save-upcoming-day-availability" class="add-business-button">Save</button>
</div>
  </div>


      <!--Toggles -->
 <div class="week-nav" style="display: none;">
<button class="nav-arrow" id="prev-week">&lt;</button>
 <span class="week-dates" id="week-range-display"></span>
<button class="nav-arrow" id="next-week">&gt;</button>
 </div>


         
<!-- 0 = Sunday -->
<div class="day-block" style="display: none;">
<div class="day-header">
<div>

<span>Sunday</span>

<div class="day-date" data-day="0"></div> <!-- 0 = Sunday -->
</div>
 <label class="toggle-switch">
 <input type="checkbox" class="day-toggle" id="toggle-upcoming-sunday" data-target="sunday-times">
<span class="slider"></span>
 </label>
 </div>



<div class="time-row sunday-times">
 <div class="time-group">
 <label>START</label>
<select id="start-upcoming-sunday" class="time-select">
</select>
 </div>

 <div class="time-group">
<label>END</label>
<select id="end-upcoming-sunday" class="time-select">
</select>
 </div>
</div>
</div>


<!-- 0 = Monday -->
<div class="day-block" style="display: none;">
 <div class="day-header">
 <div>

 <span>Monday</span>
<div class="day-date" data-day="1"></div> <!-- 0 = Monday -->
 </div>
 <label class="toggle-switch">
 <input type="checkbox" class="day-toggle" id="toggle-upcoming-monday" data-target="monday-times" >
 <span class="slider"></span>
 </label>
</div>



<div class="time-row monday-times">
 <div class="time-group">
<label>START</label>
<select id="start-upcoming-monday" class="time-select">
 </select>
 </div>



 <div class="time-group">
 <label>END</label>
 <select id="end-upcoming-monday" class="time-select">
</select>
 </div>
</div>







</div>
<!-- 0 = Tuesday -->
<div class="day-block" style="display: none;">

<div class="day-header">
<div>

 <span>Tuesday</span>

<div class="day-date" data-day="2"></div> <!-- 0 = Tuesday -->

 </div>

<label class="toggle-switch">

<input type="checkbox" class="day-toggle" id="toggle-upcoming-tuesday" data-target="tuesday-times" >
<span class="slider"></span>

 </label>

 </div>



<div class="time-row tuesday-times">

<div class="time-group">

<label>START</label>

 <select id="start-upcoming-tuesday" class="time-select">


</select>
</div>


<div class="time-group">

 <label>END</label>

<select id="end-upcoming-tuesday" class="time-select">

</select>
 </div>

</div>





</div>
<!-- 0 = Wednesday -->
<div class="day-block" style="display: none;">

 <div class="day-header">

 <div>

<span>Wednesday</span>

<div class="day-date" data-day="3"></div> <!-- 0 = Wednesday -->
 </div>

 <label class="toggle-switch">

<input type="checkbox" class="day-toggle" id="toggle-upcoming-wednesday" data-target="wednesday-times" >

<span class="slider"></span>

 </label>

 </div>



<div class="time-row wednesday-times">

<div class="time-group">

 <label>START</label>
<select id="start-upcoming-wednesday" class="time-select">
</select>
</div>



<div class="time-group">

<label>END</label>

 <select id="end-upcoming-wednesday" class="time-select">

 </select>

 </div>

</div>



</div>


<!-- 0 = Thursday -->
<div class="day-block" style="display: none;">

 <div class="day-header">

 <div>

<span>Thursday</span>

<div class="day-date" data-day="4"></div> <!-- 0 = Thursday -->

 </div>

 <label class="toggle-switch">
<input type="checkbox" class="day-toggle" id="toggle-upcoming-thursday" data-target="thursday-times" >

<span class="slider"></span>

 </label>

</div>



<div class="time-row thursday-times">

<div class="time-group">
<label>START</label>
<select id="start-upcoming-thursday" class="time-select">
</select>
</div>

 <div class="time-group">
<label>END</label>
<select id="end-upcoming-thursday" class="time-select">
</select>
 </div>
</div>
</div>



<!-- 0 = Friday -->
<div class="day-block" style="display: none;">
 <div class="day-header">
 <div>
<span>Friday</span>

<div class="day-date" data-day="5"></div> <!-- 0 = Friday -->
 </div>
 <label class="toggle-switch">
<input type="checkbox" class="day-toggle" id="toggle-upcoming-friday" data-target="friday-times" >
 <span class="slider"></span>
</label>
</div>



<div class="time-row friday-times">
 <div class="time-group">
<label>START</label>
<select id="start-upcoming-friday" class="time-select">
 </select>
 </div>

<div class="time-group">
<label>END</label>
<select id="end-upcoming-friday" class="time-select">
</select>
</div>
</div>
</div>

<!-- 0 = Saturday -->
<div class="day-block" style="display: none;">
 <div class="day-header">
 <div>
 <span>Saturday</span>
<div class="day-date" data-day="6"></div> <!-- 0 = Saturday -->
</div>
<label class="toggle-switch">
<input type="checkbox" class="day-toggle" id="toggle-upcoming-saturday" data-target="saturday-times" >
<span class="slider"></span>
</label>
</div>



<div class="time-row saturday-times">
<div class="time-group">
<label>START</label>
<select id="start-upcoming-saturday" class="time-select">
</select>
</div>



<div class="time-group">
<label>END</label>
<select id="end-upcoming-saturday" class="time-select">
</select>
</div>
</div>







<!-- manageVacation-section  -->
<!-- manageVacation-section  -->
<div id="vacation-section" style="display: none;">
  <div class="side">
    <h4>Manage Vacation</h4>
    <button class="orange-sign-up" id="save-vacation-btn">Save</button>
  </div>

  <div class="availability-grid">
    <div class="day-block">
      <label for="vacation-start-date">Start Date</label>
      <input type="date" id="vacation-start-date" required />

      <label for="vacation-end-date">End Date</label>
      <input type="date" id="vacation-end-date" required />

      <label for="vacation-reason">Reason (optional)</label>
      <input type="text" id="vacation-reason" placeholder="e.g., Personal, Holiday" />
    </div>
  </div>
</div>

  <!-- close right side  -->
 </div>  
  </div>
  </div>
<div id="popup-overlay" class="popup-overlay" style="display: none;"></div>
<style>
.availability-dot {
  width: 8px;
  height: 8px;
  background-color: orange;
  border-radius: 50%;
  margin: 4px auto 0 auto;
}
</style>

<!-- Bottom Tab Bar -->
<!-- Bottom Tab Bar -->
<nav class="bottom-tab-bar">
  <a href="business-settings.html" class="tab-item" style="display:none">
   <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1118 1204 c-194 -163 -363 -304 -376 -314 -25 -20 -29 -48 -8 -56 9 -3 155 113 376 298 199 167 364 304 368 306 4 1 171 -135 371 -303 201 -168 369 -304 375 -302 40 13 -2 55 -361 355 -205 172 -377 312 -382 312 -5 0 -168 -133 -363 -296z"/> <path d="M1687 1473 c-4 -3 -7 -15 -7 -25 0 -16 10 -18 105 -18 l105 0 0 -97 c0 -103 8 -130 34 -120 24 9 24 252 0 261 -21 8 -229 8 -237 -1z"/> <path d="M915 880 c-3 -5 -6 -155 -5 -332 0 -242 4 -324 13 -330 6 -4 251 -8 543 -8 438 0 534 2 543 14 8 9 11 107 9 337 -3 316 -3 324 -23 324 -20 0 -20 -8 -23 -312 l-2 -313 -160 0 -160 0 0 164 c0 127 -3 166 -14 175 -9 8 -66 11 -182 9 l-169 -3 -3 -172 -2 -173 -163 0 -162 0 3 301 c2 220 0 304 -9 315 -13 16 -25 18 -34 4z m685 -470 l0 -150 -135 0 -135 0 0 150 0 150 135 0 135 0 0 -150z"/> </g> </svg> 

    <span>Home</span>
  </a>
  <a href="calendar.html" class="tab-item">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1040 1556 c-6 -8 -10 -34 -9 -57 l3 -42 -83 -1 c-80 -1 -83 -2 -112 -34 l-29 -32 0 -581 0 -581 29 -29 29 -29 637 0 c417 0 643 4 656 10 49 27 49 30 49 632 0 430 -3 569 -13 588 -21 43 -72 62 -149 56 l-67 -5 -3 57 c-3 49 -6 57 -23 57 -17 0 -20 -8 -23 -55 l-3 -55 -419 0 -420 0 0 51 c0 38 -4 53 -16 58 -21 8 -20 8 -34 -8z m-5 -208 c0 -50 2 -53 25 -53 23 0 25 4 28 53 l3 52 419 0 419 0 3 -52 c3 -46 6 -53 26 -56 21 -3 22 0 22 52 l0 56 73 0 c43 0 78 -5 85 -12 8 -8 12 -48 12 -112 l0 -101 -642 2 -642 2 2 102 c1 71 5 105 14 111 7 4 45 8 83 8 l70 0 0 -52z m1115 -668 c0 -424 -1 -440 -19 -450 -13 -6 -228 -10 -629 -10 -506 0 -611 2 -621 14 -8 10 -12 140 -14 450 l-2 436 643 0 642 0 0 -440z"/> <path d="M1300 880 c-25 -10 -53 -21 -62 -24 -13 -4 -18 -16 -18 -45 l0 -40 48 14 c26 8 50 15 55 15 4 0 7 -63 7 -140 l0 -140 -55 0 -55 0 0 -37 0 -38 145 0 145 0 0 38 0 37 -51 0 -50 0 3 190 3 190 -35 -1 c-19 -1 -55 -9 -80 -19z m70 -57 c0 -25 -1 -26 -20 -8 -21 19 -18 35 6 35 9 0 14 -10 14 -27z"/> <path d="M1515 863 l3 -38 101 0 c56 0 101 -2 101 -5 0 -3 -36 -88 -80 -190 -43 -101 -78 -185 -77 -185 1 -1 23 0 48 3 l45 4 77 186 c50 121 77 200 77 225 l0 37 -148 0 -149 0 2 -37z"/> </g> </svg> 
    <span>Calendar</span>
  </a>
  <a href="clients.html" class="tab-item">
     <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1339 1493 c-102 -34 -194 -132 -225 -241 -33 -113 2 -261 81 -342 l34 -35 -67 -35 c-96 -49 -208 -163 -255 -260 -48 -98 -67 -176 -67 -273 0 -76 1 -80 34 -113 l34 -34 549 0 c481 0 551 2 571 16 98 68 53 335 -88 512 -46 59 -142 135 -208 164 l-43 19 37 41 c115 127 122 325 16 463 -39 52 -121 108 -182 125 -52 15 -168 11 -221 -7z m252 -86 c211 -109 206 -411 -8 -512 -141 -67 -308 -11 -381 129 -22 43 -27 64 -27 131 0 70 4 87 30 134 33 60 93 114 151 135 21 8 69 15 106 15 56 1 76 -4 129 -32z m-208 -604 c59 -14 78 -14 130 -4 34 7 75 15 90 18 20 4 50 -5 102 -31 140 -69 253 -213 290 -367 18 -77 19 -161 3 -177 -17 -17 -1059 -17 -1076 0 -7 7 -12 39 -12 72 0 188 124 382 299 469 85 43 84 42 174 20z"/> </g> </svg> 
    <span>Clients</span>
  </a>
  <a href="appointment-settings.html" class="tab-item">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1497 1543 c-4 -3 -7 -155 -7 -337 l0 -331 -322 3 c-181 1 -329 -2 -337 -7 -8 -5 -11 -16 -8 -25 6 -14 43 -16 337 -16 l330 0 2 -333 c3 -324 3 -332 23 -332 20 0 20 7 20 333 l0 332 332 0 c220 0 334 4 338 10 4 6 1 18 -6 26 -10 13 -60 15 -336 14 l-324 -2 1 322 c0 229 -3 326 -11 336 -13 15 -22 18 -32 7z"/> </g> </svg> 
    <span>Booking</span>
  </a>
  <a href="menu.html" class="tab-item" style="display:none">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M513 1375 l0 -45 1029 0 1028 0 0 45 0 45 -1028 0 -1029 0 0 -45z"/> <path d="M514 888 l2 -43 1027 -3 1027 -2 0 45 0 45 -1029 0 -1029 0 2 -42z"/> <path d="M513 405 l0 -45 1029 0 1028 0 0 45 0 45 -1028 0 -1029 0 0 -45z"/> </g> </svg> 
    <span>Menu</span>
  </a>
</nav>

<script>
(() => {
  const monthYear = document.getElementById('uh-monthYear');
  const grid      = document.getElementById('uh-days');
  const prevBtn   = document.getElementById('uh-prev');
  const nextBtn   = document.getElementById('uh-next');

  if (!monthYear || !grid || !prevBtn || !nextBtn) return;

  const pad2 = (n) => String(n).padStart(2, '0');

  let viewDate = new Date(); // start at today

  function renderCalendar() {
    const y = viewDate.getFullYear();
    const m = viewDate.getMonth();

    monthYear.textContent = viewDate.toLocaleString(undefined, { month: 'long', year: 'numeric' });
    grid.innerHTML = '';

    const first    = new Date(y, m, 1);
    const startDoW = first.getDay();                  // 0..6 (Sun..Sat)
    const daysInM  = new Date(y, m + 1, 0).getDate(); // last day of month

    // leading empties
    for (let i = 0; i < startDoW; i++) {
      const empty = document.createElement('div');
      empty.className = 'day-cell empty';
      grid.appendChild(empty);
    }

    // actual days
    const today = new Date(); today.setHours(0,0,0,0);

    for (let d = 1; d <= daysInM; d++) {
      const cell  = document.createElement('div');
      cell.className = 'day-cell';

      // ISO date for this cell
      const iso = `${y}-${pad2(m + 1)}-${pad2(d)}`;
      cell.dataset.iso = iso;

      const inner = document.createElement('div');
      inner.className = 'day-inner';
      inner.textContent = d;
      cell.appendChild(inner);

      // highlight today
      if (d === today.getDate() && m === today.getMonth() && y === today.getFullYear()) {
        cell.classList.add('current-day');
      }

      // click -> open popup + preselect times
      cell.addEventListener('click', () => {
        grid.querySelectorAll('.day-cell.selected').forEach(c => c.classList.remove('selected'));
        cell.classList.add('selected');

        if (typeof openAvailabilityPopup === 'function') {
          openAvailabilityPopup(iso);   // <-- this populates the selects & preselects saved times
        }
      });

      grid.appendChild(cell);
    }
  }

  prevBtn.addEventListener('click', () => { viewDate.setMonth(viewDate.getMonth() - 1); renderCalendar(); });
  nextBtn.addEventListener('click', () => { viewDate.setMonth(viewDate.getMonth() + 1); renderCalendar(); });

  renderCalendar();
})();
</script>

<script>
(() => {
  const monthYear = document.getElementById('uh-monthYear');
  const grid      = document.getElementById('uh-days');
  const prevBtn   = document.getElementById('uh-prev');
  const nextBtn   = document.getElementById('uh-next');

  if (!monthYear || !grid || !prevBtn || !nextBtn) return;

  let viewDate = new Date(); // start at today

  function renderCalendar() {
    const y = viewDate.getFullYear();
    const m = viewDate.getMonth();

    monthYear.textContent = viewDate.toLocaleString(undefined, { month: 'long', year: 'numeric' });
    grid.innerHTML = '';

    const first   = new Date(y, m, 1);
    const startDoW = first.getDay();                   // 0..6 (Sun..Sat)
    const daysInM  = new Date(y, m + 1, 0).getDate();  // last day of month

    // leading empties
    for (let i = 0; i < startDoW; i++) {
      const empty = document.createElement('div');
      empty.className = 'day-cell empty';
      grid.appendChild(empty);
    }

    // actual days
    const today = new Date();
    for (let d = 1; d <= daysInM; d++) {
      const cell  = document.createElement('div');
      cell.className = 'day-cell';
      const inner = document.createElement('div');
      inner.className = 'day-inner';
      inner.textContent = d;
      cell.appendChild(inner);

      // highlight today
      if (
        d === today.getDate() &&
        m === today.getMonth() &&
        y === today.getFullYear()
      ) {
        cell.classList.add('current-day');
      }

      // example click behavior
      cell.addEventListener('click', () => {
        grid.querySelectorAll('.day-cell.selected').forEach(c => c.classList.remove('selected'));
        cell.classList.add('selected');
        // TODO: show/edit availability for this date
      });

      grid.appendChild(cell);
    }
  }

  prevBtn.addEventListener('click', () => { viewDate.setMonth(viewDate.getMonth() - 1); renderCalendar(); });
  nextBtn.addEventListener('click', () => { viewDate.setMonth(viewDate.getMonth() + 1); renderCalendar(); });

  renderCalendar();
})();
</script>







<script>
  document.addEventListener("DOMContentLoaded", () => {
    const path = window.location.pathname.split("/").pop(); // get current page like 'calendar.html'
    const tabLinks = document.querySelectorAll(".tab-item");

    tabLinks.forEach(link => {
      const href = link.getAttribute("href");
      if (href === path) {
        link.classList.add("active");
      }
    });
  });
</script>


<div id="sidebar-overlay" aria-hidden="true"></div>

    <script src="/qassets/js/availability.js"></script>
  </body>
</html>
