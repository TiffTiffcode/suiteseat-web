<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Calendar </title>
  <link rel="stylesheet" href="/qassets/css/calendar.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <section class="header-group-container">
      <div class="group left-group">Suite Seat</div>
   <div class="group right-group"> 
  <button class="blk-btn" id="open-login-popup-btn">Login</button>
</div>
</section>

  </header>

                        <!-- Menu Section  -->


  <section class="business-holder">
<label for="business-dropdown">Select a Business</label>
    <select id="business-dropdown">
      <option value="">-- Choose Business --</option>
    </select> 
<br>
    <button class= "simple-btn" onclick="openClientListPopup()">View All Clients</button>
  </section>
  
  <div class="right-section">
  <button class= "blk-btn" onclick="openClientPopup()">+ New Client</button>
<button class= "blk-btn" onclick="openAppointmentPopup()">+ New Appointment</button>



</div>
  <br>
                                            <!-- Date Header -->
                                             
 <!-- Date Header (unchanged) -->
<div class="date-header">
  <button class="simple-btn" id="today-btn">This Week</button>

  <div class="middle-section">
    <div class="month-row">
      <button id="prev-week" class="nav-btn" aria-label="Previous month">‚Äπ</button>
      <h4 id="month-year">September 2025</h4>
      <button id="next-week" class="nav-btn" aria-label="Next month">‚Ä∫</button>
    </div>
    <div id="week-offset-label" class="sub"></div>
  </div>
</div>

<!-- NEW unified scroller -->
<div class="week-scroller">
  <!-- Day of Week Section -->
  <div class="week-days">
    <div class="day-column empty"></div>
    <div class="day-column"><div>Sun</div><div class="day-date" data-day="0">22</div></div>
    <div class="day-column"><div>Mon</div><div class="day-date" data-day="1">23</div></div>
    <div class="day-column"><div>Tue</div><div class="day-date" data-day="2">24</div></div>
    <div class="day-column"><div>Wed</div><div class="day-date" data-day="3">25</div></div>
    <div class="day-column"><div>Thu</div><div class="day-date" data-day="4">26</div></div>
    <div class="day-column"><div>Fri</div><div class="day-date" data-day="5">27</div></div>
    <div class="day-column"><div>Sat</div><div class="day-date" data-day="6">28</div></div>
  </div>

  <!-- Hour Grid -->
  <div class="calendar-wrapper">            
    <div class="calendar-grid">
      <div class="hour-column"></div>
      <div class="time-slots-container"></div>
    </div>
  </div>
</div>


                           <!-- Popup -->


                   <!-- Create Client Popup -->
<div id="popup-create-client" class="popup-add-business" style="display: none;">
 
  <div class="business-section-header">
      <div class="spacer"></div>
    <h2 class="section-title">Add New Client</h2>
    <button type="button" onclick="closeClientPopup()" class="close-btn" style="float:right; border:none; background:none; font-size:18px;">&times;</button>
  </div>
<br>
  <form id="create-client-form">

    <div class="form-group">
  <label for="client-business">Business</label>
  <select id="client-business" required>
    <option value="">-- Choose Business --</option>
  </select>
</div>

    <div class="form-group">
      <label for="client-name">First Name</label>
      <input type="text" id="client-name" required />
    </div>

     <div class="form-group">
      <label>Last Name:</label>
  <input type="text" id="client-last-name">
    </div>

    <div class="form-group">
      <label for="client-email">Email</label>
      <input type="email" id="client-email" />
    </div>

    <div class="form-group">
      <label for="client-phone">Phone</label>
      <input type="tel" id="client-phone" />
    </div>
    <div class="button-center-wrapper">
      <button type="submit" class="orange-sign-up">Save Client</button>
    </div>
  </form>
</div>















<!-- Create Appointment Popup -->
<div id="popup-create-appointment" class="popup-add-business" style="display: none;">
  <div class="business-section-header">
  <h2 id="appointment-popup-title" class="section-title">Add Appointment</h2>
  <button type="button" onclick="closeAppointmentPopup()" class="close-btn">&times;</button>
</div>

  <form id="create-appointment-form">
    <div class="form-group">
      <label for="appointment-business">Business</label>
      <select id="appointment-business">
        <option value="">-- Select Business --</option>
        
      </select>
    </div>

    <div class="form-group">
      <label for="appointment-service">Service</label>
      <select id="appointment-service">
        <option value="">-- Select Service --</option>
      </select>
    </div>

 
<!-- üßë‚Äçüíº Client Section Header -->
<div class="form-group client-header">
  <div class="client-label">
    <label for="appointment-client">Client</label>
    <button type="button" id="btn-new-client" title="Add New Client">+</button>
  </div>
  <div class="client-actions">
    <input type="checkbox" id="show-all-clients" />
    <label for="show-all-clients" class="show-label">Show all</label>
  </div>
</div>

<!-- üßë‚Äçüíº Client Dropdown -->
<div class="form-group">
  <select id="appointment-client">
    <option value="">-- Select Client --</option>
  </select>
</div>


   <!-- üÜï New Client Section (Initially Hidden) -->
<div id="new-client-fields" style="
  display: none;
  margin-top: 15px;
  padding: 20px;
  border: 1px solid #efb37c;
  border-radius: 12px;
  background-color: #fff8f3;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
">
  <!-- ‚ùå Cancel (now ABOVE everything) -->
  <div style="text-align: right; margin-bottom: 10px;">
    <button id="cancel-new-client-btn" type="button" style="
      background-color: #fff;
      border: 1px solid #efb37c;
      padding: 6px 12px;
      border-radius: 6px;
      color: #FF6600;
      font-weight: bold;
      cursor: pointer;
    ">‚úñ Cancel</button>
  </div>

  <div class="form-group">
    <label for="new-client-first-name">First Name</label>
    <input type="text" id="new-client-first-name" />
  </div>
  <div class="form-group">
    <label for="new-client-last-name">Last Name</label>
    <input type="text" id="new-client-last-name" />
  </div>
  <div class="form-group">
    <label for="new-client-email">Email</label>
    <input type="email" id="new-client-email" />
  </div>
  <div class="form-group">
    <label for="new-client-phone">Phone</label>
    <input type="tel" id="new-client-phone" />
  </div>
</div>


    <div class="form-group">
      <label for="appointment-date">Date</label>
      <input type="date" id="appointment-date" required />
    </div>
    <div class="form-group">
      <label for="appointment-time">Time</label>
      <input type="time" id="appointment-time" required />
    </div>
    <div class="form-group">
      <label for="appointment-duration">Duration (minutes)</label>
      <input type="number" id="appointment-duration" required min="15" step="15" />
    </div>

    <div class="button-center-wrapper">
      <button type="submit" class="orange-sign-up">Save Appointment</button>
<button type="button" class="red-button" id="delete-appointment-btn" style="display: none; background: red; color: white;">
  üóëÔ∏è Delete
</button>
<button id="cancel-appointment-btn" type="button" class="red-button" style="display:none;">
  Cancel Appointment
</button>

    </div>
  </form>
</div>


                                           <!-- View All Clients Popup -->

<div id="popup-view-clients" class="popup-add-business" style="display: none;">
  <div class="business-section-header">
    <h2 class="section-title">All Clients (A‚ÄìZ)</h2>
    <button type="button" onclick="closeClientListPopup()" class="close-btn">&times;</button>
  </div>
<br>
  <button id="toggle-add-client-btn" type="button" onclick="showAddClientSection()" class="orange-sign-up">Add New Client</button>

  <!-- Hidden Add Client Section -->
  <div id="inline-add-client-section" style="display: none; margin-top: 20px;">
    <form id="inline-add-client-form">
      <div class="form-group">
        <label for="inline-client-business">Business</label>
        <select id="inline-client-business">
          <option value="">-- Select Business --</option>
        </select>
      </div>
      <div class="form-group">
        <label for="inline-client-first-name">First Name</label>
        <input type="text" id="inline-client-first-name" required />
      </div>
      <div class="form-group">
        <label for="inline-client-last-name">Last Name</label>
        <input type="text" id="inline-client-last-name" />
      </div>
      <div class="form-group">
        <label for="inline-client-email">Email</label>
        <input type="email" id="inline-client-email" />
      </div>
      <div class="form-group">
        <label for="inline-client-phone">Phone</label>
        <input type="text" id="inline-client-phone" />
      </div>
      <div class="button-center-wrapper">
        <button type="submit" class="orange-sign-up">Save Client</button>
      </div>
    </form>
  </div>

  <!-- Client Detail View -->
  <div id="client-detail-section" style="display: none;">
    <button onclick="backToClientList()" class="orange-sign-up">‚Üê Back to Clients</button>
    <h2 id="detail-name" class="section-title"></h2>
    <p id="detail-email"></p>
    <p id="detail-phone"></p>
    <p id="detail-stats"></p>

    <div style="text-align: center; margin-top: 20px;">
  <button id="add-appointment-from-client" class="orange-sign-up">‚ûï Add Appointment</button>
  <button onclick="openAppointmentFromClientDetail()">‚ûï Add Appointment</button>

</div>

  </div>

  <!-- List of Clients -->
  <div id="client-list-container" style="margin-top: 20px;">
    <!-- Clients will be listed here -->
  </div>
</div>





<!-- Login Popup -->
<div id="popup-login" class="popup-add-business" style="display: none;">
  <div class="business-section-header">
    <h2 class="section-title">Login</h2>
    <button type="button" onclick="closeLoginPopup()" class="close-btn">&times;</button>
  </div>


  <form id="login-form">
    <div class="form-group">
      <label for="login-email">Email</label><br>
      <input type="email" id="login-email" required placeholder="Enter your email" />
    </div>

    <div class="form-group">
      <label for="login-password">Password</label><br>
      <input type="password" id="login-password" required placeholder="Enter your password" />
    </div>

    <div class="button-center-wrapper">
      <button type="submit" class="add-business-button">Log In</button>
    </div>
  </form>
   </div>

<!-- Bottom Tab Bar -->
<!-- Bottom Tab Bar -->
<nav class="bottom-tab-bar">
  <a href="business-settings.html" class="tab-item" style="display:none">
   <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1118 1204 c-194 -163 -363 -304 -376 -314 -25 -20 -29 -48 -8 -56 9 -3 155 113 376 298 199 167 364 304 368 306 4 1 171 -135 371 -303 201 -168 369 -304 375 -302 40 13 -2 55 -361 355 -205 172 -377 312 -382 312 -5 0 -168 -133 -363 -296z"/> <path d="M1687 1473 c-4 -3 -7 -15 -7 -25 0 -16 10 -18 105 -18 l105 0 0 -97 c0 -103 8 -130 34 -120 24 9 24 252 0 261 -21 8 -229 8 -237 -1z"/> <path d="M915 880 c-3 -5 -6 -155 -5 -332 0 -242 4 -324 13 -330 6 -4 251 -8 543 -8 438 0 534 2 543 14 8 9 11 107 9 337 -3 316 -3 324 -23 324 -20 0 -20 -8 -23 -312 l-2 -313 -160 0 -160 0 0 164 c0 127 -3 166 -14 175 -9 8 -66 11 -182 9 l-169 -3 -3 -172 -2 -173 -163 0 -162 0 3 301 c2 220 0 304 -9 315 -13 16 -25 18 -34 4z m685 -470 l0 -150 -135 0 -135 0 0 150 0 150 135 0 135 0 0 -150z"/> </g> </svg> 

    <span>Home</span>
  </a>
  <a href="calendar.html" class="tab-item">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1040 1556 c-6 -8 -10 -34 -9 -57 l3 -42 -83 -1 c-80 -1 -83 -2 -112 -34 l-29 -32 0 -581 0 -581 29 -29 29 -29 637 0 c417 0 643 4 656 10 49 27 49 30 49 632 0 430 -3 569 -13 588 -21 43 -72 62 -149 56 l-67 -5 -3 57 c-3 49 -6 57 -23 57 -17 0 -20 -8 -23 -55 l-3 -55 -419 0 -420 0 0 51 c0 38 -4 53 -16 58 -21 8 -20 8 -34 -8z m-5 -208 c0 -50 2 -53 25 -53 23 0 25 4 28 53 l3 52 419 0 419 0 3 -52 c3 -46 6 -53 26 -56 21 -3 22 0 22 52 l0 56 73 0 c43 0 78 -5 85 -12 8 -8 12 -48 12 -112 l0 -101 -642 2 -642 2 2 102 c1 71 5 105 14 111 7 4 45 8 83 8 l70 0 0 -52z m1115 -668 c0 -424 -1 -440 -19 -450 -13 -6 -228 -10 -629 -10 -506 0 -611 2 -621 14 -8 10 -12 140 -14 450 l-2 436 643 0 642 0 0 -440z"/> <path d="M1300 880 c-25 -10 -53 -21 -62 -24 -13 -4 -18 -16 -18 -45 l0 -40 48 14 c26 8 50 15 55 15 4 0 7 -63 7 -140 l0 -140 -55 0 -55 0 0 -37 0 -38 145 0 145 0 0 38 0 37 -51 0 -50 0 3 190 3 190 -35 -1 c-19 -1 -55 -9 -80 -19z m70 -57 c0 -25 -1 -26 -20 -8 -21 19 -18 35 6 35 9 0 14 -10 14 -27z"/> <path d="M1515 863 l3 -38 101 0 c56 0 101 -2 101 -5 0 -3 -36 -88 -80 -190 -43 -101 -78 -185 -77 -185 1 -1 23 0 48 3 l45 4 77 186 c50 121 77 200 77 225 l0 37 -148 0 -149 0 2 -37z"/> </g> </svg> 
    <span>Calendar</span>
  </a>
  <a href="clients.html" class="tab-item">
     <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1339 1493 c-102 -34 -194 -132 -225 -241 -33 -113 2 -261 81 -342 l34 -35 -67 -35 c-96 -49 -208 -163 -255 -260 -48 -98 -67 -176 -67 -273 0 -76 1 -80 34 -113 l34 -34 549 0 c481 0 551 2 571 16 98 68 53 335 -88 512 -46 59 -142 135 -208 164 l-43 19 37 41 c115 127 122 325 16 463 -39 52 -121 108 -182 125 -52 15 -168 11 -221 -7z m252 -86 c211 -109 206 -411 -8 -512 -141 -67 -308 -11 -381 129 -22 43 -27 64 -27 131 0 70 4 87 30 134 33 60 93 114 151 135 21 8 69 15 106 15 56 1 76 -4 129 -32z m-208 -604 c59 -14 78 -14 130 -4 34 7 75 15 90 18 20 4 50 -5 102 -31 140 -69 253 -213 290 -367 18 -77 19 -161 3 -177 -17 -17 -1059 -17 -1076 0 -7 7 -12 39 -12 72 0 188 124 382 299 469 85 43 84 42 174 20z"/> </g> </svg> 
    <span>Clients</span>
  </a>
  <a href="appointment-settings.html" class="tab-item">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1497 1543 c-4 -3 -7 -155 -7 -337 l0 -331 -322 3 c-181 1 -329 -2 -337 -7 -8 -5 -11 -16 -8 -25 6 -14 43 -16 337 -16 l330 0 2 -333 c3 -324 3 -332 23 -332 20 0 20 7 20 333 l0 332 332 0 c220 0 334 4 338 10 4 6 1 18 -6 26 -10 13 -60 15 -336 14 l-324 -2 1 322 c0 229 -3 326 -11 336 -13 15 -22 18 -32 7z"/> </g> </svg> 
    <span>Booking</span>
  </a>
  <a href="menu.html" class="tab-item" style="display:none">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M513 1375 l0 -45 1029 0 1028 0 0 45 0 45 -1028 0 -1029 0 0 -45z"/> <path d="M514 888 l2 -43 1027 -3 1027 -2 0 45 0 45 -1029 0 -1029 0 2 -42z"/> <path d="M513 405 l0 -45 1029 0 1028 0 0 45 0 45 -1028 0 -1029 0 0 -45z"/> </g> </svg> 
    <span>Menu</span>
  </a>
</nav>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const path = window.location.pathname.split("/").pop(); // get current page like 'calendar.html'
    const tabLinks = document.querySelectorAll(".tab-item");

    tabLinks.forEach(link => {
      const href = link.getAttribute("href");
      if (href === path) {
        link.classList.add("active");
      }
    });
  });
</script>





  <!-- Overlay -->
<div id="popup-overlay" class="popup-overlay" style="display: none;"></div>

<script src="/qassets/js/calendar.js" defer></script>
</body>
</html>