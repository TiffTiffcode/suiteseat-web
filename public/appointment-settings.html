<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Settings</title>
    <link rel="stylesheet" href="/qassets/css/appqointment-settings.css">

</head>
<body>
  <header class="header">
    <section class="header-group-container">
      <div class="group left-group">Suite Seat</div>
   <div class="group right-group" id="login-container">
  <button id="open-login-popup-btn">Login</button>
  <span id="login-status-text">Not logged in</span>
  <button id="logout-btn" style="display: none;">Logout</button>
</div>

    </section>
  </header>
                        <!-- Menu Section  -->
  <section class="menu-section">
    <div class="menu-left">
      <h3></h3>
    </div>
  </section>

  <section class="options-bar">
<button onclick="window.location.href='/availability'"style="cursor: pointer; color: #007bff;">Availability</button>
  </section>

  <section class="business-holder">
    <h3></h3>
    <br>
    <label for="business-dropdown">Select a Business</label>
    <select id="business-dropdown">
      <option value="">-- Choose Business --</option>
    </select>
    <h2 id="selected-business-name">Choose business to manage</h2>
  </section>

  <section class="option-bar row-orange">
    <div class="option" data-id="business">Business</div>
    <div class="option" data-id="calendar">Calendar</div>
    <div class="option" data-id="category">Category</div>
    <div class="option" data-id="service">Service</div>
    <div class="option" data-id="booking" style="display: none;">Booking Page</div>
  </section>



                     <!-- Business Section  -->
  <div id="business-section">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Business</h2>
      <button id="open-business-popup-button" class="add-business-button">Add Business</button>
    </div>
   
<section class="border-start">
  <div class="border">Name</div>
  <div class="border"># of Services</div>
  <div class="border"># of Clients</div>
  <div class="border">Go To</div>
</section>


<section class="border-border">
  <div class="business-option-bar">
    <div class="business-column" id="business-name-column"></div>
    <div class="business-column" id="services-column"></div>
    <div class="client-column" id="clients-column"></div>
    <div class="business-column" id="goto-column"></div>


  </div>
</section>

  </div>

                  <!-- Calendar Section  -->
  <div id="calendar-section" style="display: none;">
  <div class="calendars-section-header">
    <div class="spacer"></div>
    <h2 class="section-title">Calendars</h2>
    <button id="open-calendar-button" class="add-business-button">Add Calendar</button>
  </div>

 <section class="border-start calendar-header">
  <div class="border header-column">Name</div>
  <div class="border header-column">Default</div>
</section>


  <section class="border-border">
  <div class="calendar-option-bar">
    <div class="calendar-column" id="calendar-name-column"></div>
    <div class="calendar-column" id="calendar-default-column"></div>
  </div>
</section>

  </div>
  
                      <!-- Category Section -->
<div id="category-section" style="display: none;">
  <div class="category-section-header">
    <div class="spacer"></div>
    <h2 class="section-title">Category</h2>
    <button id="open-category-popup-button" class="add-business-button">Add Category</button>
  </div>

   <!--  Dropdown -->
<div id="calendar-dropdown-wrapper" style="display: none;">
  <label for="category-calendar-dropdown">Select a Calendar</label>
  <select id="category-calendar-dropdown">
    <option value="">-- Choose a Calendar --</option>
  </select>
</div>
  <!-- Header row -->
  <section class="border-start">
     <div class="border">Name</div>
    <div class="border">Calendar</div>
   
  </section>

  <!-- Data rows -->
  <section class="border-border">
    <div class="category-option-bar">
       <div class="category-column" id="category-name-column"></div>
      <div class="category-column" id="category-calendar-column"></div> <!-- Swapped -->
     
    </div>
  </section>
</div>





                        <!-- Service Section -->
  <div id="service-section" style="display: none;">
    <div class="service-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Service</h2>
      <button id="open-service-popup-button" class="add-business-button">Add Service</button>
    </div>

       <!-- section Dropdown -->
<div id="service-section-calendar-dropdown-wrapper" style="display: none;">
  <label for="service-section-calendar-dropdown">Select a Calendar</label>
  <select id="service-section-calendar-dropdown">
    <option value="">-- Choose a Calendar --</option>
  </select>
</div>

    <section class="border-start">
      <div class="border">Name</div>
      <div class="border">Calendar</div>
      <div class="border">Category</div>
      <div class="border">Price</div>
    </section>
    <section class="border-border">
      <div class="service-option-bar">
        <div class="service-column" id="service-name-column"></div>
         <div class="service-column" id="service-calendar-column"></div>
          <div class="service-column" id="service-category-column"></div>
        <div class="service-column" id="service-price-column"></div>
      </div>
    </section>
  </div>

                         <!-- Booking Section  -->
  <div id="booking-section" style="display: none;">
    <div class="booking-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Booking Page</h2>
    </div>
    <section class="border-start">

    </section>
  </div>
                            <!-- Popups  -->

                            

                            <!--Business Popup  -->
  <section id="popup-add-business" class="popup-add-business" style="display: none;">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 id="popup-title" class="section-title">Business</h2>
      <button type="button" onclick="closeAddBusinessPopup()" style="float:right; border:none; background:none; font-size:18px;">&times;</button>
    </div>
    
    <form id="popup-add-business-form">
      <div class="form-group">
        <label for="popup-business-name-input">Business Name*</label><br>
        <input id="popup-business-name-input" name="businessName" type="text" placeholder="Enter business name" required>
      <small id="business-name-warning" style="color: red; display: none;">
  ⚠️ A business with this name already exists.
</small>
</div>
      <div class="form-group">
        <label for="popup-your-name-input">Your Name*</label><br>
        <input id="popup-your-name-input" name="yourName" type="text" placeholder="Enter your name" required>
      </div>
      <div class="form-group">
        <label for="popup-business-phone-number-input">Phone Number*</label><br>
        <input id="popup-business-phone-number-input" name="phoneNumber" type="text" placeholder="Enter phone number">
      </div>
      <div class="form-group">
        <label for="popup-business-location-name-input">Location Name</label><br>
        <input id="popup-business-location-name-input" name="locationName" type="text" placeholder="Enter location name" required>
      </div>
      <div class="form-group">
        <label for="popup-business-address-input">Business Address</label><br>
        <input id="popup-business-address-input" name="businessAddress" type="text" placeholder="Enter business address" required>
      </div>
      <div class="form-group">
        <label for="popup-business-email-input">Business Email</label><br>
        <input id="popup-business-email-input" name="businessEmail" type="text" placeholder="Enter business email">
      </div>
      <div class="form-group">
        <label for="image-upload">Upload Image:</label><br>
        <input type="file" id="image-upload" name="heroImage" accept="image/*">
        <br>
        <h4> Landcape 12 X 800px or Portrait 1000 X 1600px</h4>
        <div id="current-hero-image-container" style="margin-top: 10px;">
          <img id="current-hero-image" src="" alt="Current Business Image" style="max-width: 200px; height: auto; display: none;">
          <p id="no-image-text" style="display: none;">No image uploaded yet.</p>
        </div>
      </div>
      <div class="button-center-wrapper">
        <button type="submit" id="save-button" class="add-business-button">Save Business</button>
        <button type="button" id="update-button" class="add-business-button" style="display: none;">Update</button>
        <button type="button" id="delete-button" class="add-business-button" style="display: none; background-color: #e74c3c;">Delete</button>
      </div>
    </form>
  </section>

                             <!--Calendar Popup  -->
  <section id="popup-add-calendar" class="popup-add-business" style="display: none;">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Add Calendar</h2>
      <button type="button" onclick="closeAddCalendarPopup()" style="float:right; border:none; background:none; font-size:18px;">&times;</button>
    </div>
    <div class="form-group">
      <label for="dropdown-calendar-business">Choose Business</label><br>
      <select id="dropdown-calendar-business">
        <option value="">-- Select --</option>
      </select>
    </div>
    <div class="form-group">
      <label for="popup-calendar-name-input">Calendar Name*</label><br>
      <input id="popup-calendar-name-input" type="text" placeholder="Enter calendar name" required>
    </div>
    <div class="button-center-wrapper">
      <button id="save-calendar-button" class="add-business-button">Save Calendar</button>
      <button id="update-calendar-button" class="add-business-button" style="display: none;">Update</button>
      <button id="delete-calendar-button" class="add-business-button" style="display: none; background-color: #e74c3c;">Delete</button>
    </div>
  </section>


                                <!--Category Popup  -->
  <section id="popup-add-category" class="popup-add-business" style="display: none;">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Add a Category</h2>
      <button type="button" onclick="closeCategoryPopup()" style="float:right; border:none; background:none; font-size:18px;">&times;</button>
    </div>
    <div class="form-group">
      <label for="dropdown-category-business">Choose Business</label><br>
      <select id="dropdown-category-business">
        <option value="">-- Select --</option>
      </select>
    </div>
    <div class="form-group">
      <label for="dropdown-business-calendar">Choose Calendar</label><br>
      <select id="dropdown-business-calendar" disabled>
        <option value="">-- Select --</option>
      </select>
    </div>
    <div class="form-group">
      <label for="popup-category-name-input">Category Name*</label><br>
      <input id="popup-category-name-input" type="text" placeholder="Enter category name" required>
    </div>
    <div class="button-center-wrapper">
      <button id="save-category-button" class="add-business-button">Save Category</button>
      <button id="update-category-button" class="add-business-button" style="display: none;">Update</button>
      <button id="delete-category-button" class="add-business-button" style="display: none; background-color: #e74c3c;">Delete</button>
    </div>
  </section>
  <div id="popup-add-category-overlay" class="popup-overlay" style="display: none;"></div>



                               <!--Service Popup  -->
  <section id="popup-add-service" class="popup-add-business" style="display: none;">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Add a Service</h2>
      <button type="button" onclick="closeAddServicePopup()" style="float:right; border:none; background:none; font-size:18px;">&times;</button>
    </div>

    <form id="add-service-form"> 

        <div class="form-group">
          <label for="dropdown-service-business">Choose Business</label><br>
          <select id="dropdown-service-business">
            <option value="">-- Select --</option>
          </select>
        </div>

        <div class="form-group">
          <label for="dropdown-service-calendar">Choose a Calendar</label><br>
          <select id="dropdown-service-calendar" disabled>
            <option value="">-- Select --</option>
          </select>
        </div>

        <div class="form-group">
          <label for="dropdown-service-category">Service Category</label><br>
          <select id="dropdown-service-category" disabled>
            <option value="">-- Select --</option>
          </select>
        </div>

        <div class="form-group">
          <label for="popup-service-name-input">Service Name*</label><br>
          <input id="popup-service-name-input" type="text" placeholder="Enter service name" required>
        </div>

        <div class="form-group">
          <label for="popup-service-price-input">Price*</label><br>
          <input id="popup-service-price-input" type="number" placeholder="Enter price" required>
        </div>

        <div class="form-group">
          <label for="popup-service-description-input">Description</label><br>
          <input id="popup-service-description-input" type="text" placeholder="Enter a description"> 
          </div>

        <div class="form-group">
          <label for="dropdown-duration">Duration</label><br>
          <small>Define how long your service takes</small><br>
          <select id="dropdown-duration" required>
            <option value="">-- Select --</option>
            <option value="15">15 minutes</option>
            <option value="30">30 minutes</option>
            <option value="45">45 minutes</option>
            <option value="60">1 hour</option>
            <option value="90">1 hour 30 minutes</option>
            <option value="120">2 hours</option>
            <option value="150">2 hours 30 minutes</option>
            <option value="180">3 hours</option>
            <option value="210">3 hours 30 minutes</option>
            <option value="240">4 hours</option>
            <option value="270">4 hours 30 minutes</option>
            <option value="300">5 hours</option>
            <option value="330">5 hours 30 minutes</option>
            <option value="360">6 hours</option>
          </select>
        </div>

      <div class="form-group">
  <label for="popup-service-image-input">Service Image (Optional):</label><br>
  <input type="file" id="popup-service-image-input" name="image" accept="image/*">
  
  <div id="current-service-image-container" style="margin-top: 10px;">
    <img id="current-service-image" src="" alt="Current Service Image" style="max-width: 200px; height: auto; display: none;">
    <p id="no-service-image-text" style="display: none;">No image uploaded yet.</p>

  </div>
<div class="form-group"style="display: none;">
  <label for="popup-service-visible-toggle">
 <input type="checkbox" id="popup-service-visible-toggle" />


    Show this service on your booking page
  </label>
</div>

<div class="form-group"style="display: none;">
  <label>Add-Ons (Optional)</label>
  <div id="addons-container">
    <!-- Dynamic Add-On blocks will be added here -->
  </div>

  <button type="button" id="add-addon-button" style="margin-top: 10px;">
    ➕ Add Add-On
  </button>
</div>

</div>

  <button id="save-service-button" class="add-business-button" type="submit">Save Service</button> 
         
       </form> 
        <div class="button-center-wrapper">
         <button id="update-service-button" class="add-business-button" type="button" style="display: none;">Update</button>
          <button id="delete-service-button" class="add-business-button" type="button" style="display: none; background-color: #e74c3c;">Delete</button>
        </div>

  
</section>

<div id="popup-add-service-overlay" class="popup-overlay" style="display: none;"></div>
  


                          <!--Log-in Popup  -->
<section id="popup-login" class="popup-add-business" style="display: none;">
    <div class="business-section-header">
      <div class="spacer"></div>
      <h2 class="section-title">Login</h2>
      <button type="button" onclick="closeLoginPopup()" style="float:right; border:none; background:none; font-size:18px;">&times;</button>
    </div>

    <form id="login-form">
      <div class="form-group">
        <label for="login-email">Email</label><br>
        <input type="email" id="login-email" required placeholder="Enter your email" />
      </div>

      <div class="form-group">
        <label for="login-password">Password</label><br>
        <input type="password" id="login-password" required placeholder="Enter your password" />
      </div>


      <div class="button-center-wrapper">
        <button type="submit" class="add-business-button">Log In</button>
      </div>
    </form>
  </section>

  <div id="popup-overlay" class="popup-overlay" style="display: none;"></div>

<div id="popup-overlay" style="
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0,0,0,0.5);
  z-index: 999;
  backdrop-filter: blur(4px);
"></div>

<!-- Bottom Tab Bar -->
<!-- Bottom Tab Bar -->
<nav class="bottom-tab-bar">
  <a href="business-settings.html" class="tab-item" style="display:none">
   <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1118 1204 c-194 -163 -363 -304 -376 -314 -25 -20 -29 -48 -8 -56 9 -3 155 113 376 298 199 167 364 304 368 306 4 1 171 -135 371 -303 201 -168 369 -304 375 -302 40 13 -2 55 -361 355 -205 172 -377 312 -382 312 -5 0 -168 -133 -363 -296z"/> <path d="M1687 1473 c-4 -3 -7 -15 -7 -25 0 -16 10 -18 105 -18 l105 0 0 -97 c0 -103 8 -130 34 -120 24 9 24 252 0 261 -21 8 -229 8 -237 -1z"/> <path d="M915 880 c-3 -5 -6 -155 -5 -332 0 -242 4 -324 13 -330 6 -4 251 -8 543 -8 438 0 534 2 543 14 8 9 11 107 9 337 -3 316 -3 324 -23 324 -20 0 -20 -8 -23 -312 l-2 -313 -160 0 -160 0 0 164 c0 127 -3 166 -14 175 -9 8 -66 11 -182 9 l-169 -3 -3 -172 -2 -173 -163 0 -162 0 3 301 c2 220 0 304 -9 315 -13 16 -25 18 -34 4z m685 -470 l0 -150 -135 0 -135 0 0 150 0 150 135 0 135 0 0 -150z"/> </g> </svg> 

    <span>Home</span>
  </a>
  <a href="calendar.html" class="tab-item">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1040 1556 c-6 -8 -10 -34 -9 -57 l3 -42 -83 -1 c-80 -1 -83 -2 -112 -34 l-29 -32 0 -581 0 -581 29 -29 29 -29 637 0 c417 0 643 4 656 10 49 27 49 30 49 632 0 430 -3 569 -13 588 -21 43 -72 62 -149 56 l-67 -5 -3 57 c-3 49 -6 57 -23 57 -17 0 -20 -8 -23 -55 l-3 -55 -419 0 -420 0 0 51 c0 38 -4 53 -16 58 -21 8 -20 8 -34 -8z m-5 -208 c0 -50 2 -53 25 -53 23 0 25 4 28 53 l3 52 419 0 419 0 3 -52 c3 -46 6 -53 26 -56 21 -3 22 0 22 52 l0 56 73 0 c43 0 78 -5 85 -12 8 -8 12 -48 12 -112 l0 -101 -642 2 -642 2 2 102 c1 71 5 105 14 111 7 4 45 8 83 8 l70 0 0 -52z m1115 -668 c0 -424 -1 -440 -19 -450 -13 -6 -228 -10 -629 -10 -506 0 -611 2 -621 14 -8 10 -12 140 -14 450 l-2 436 643 0 642 0 0 -440z"/> <path d="M1300 880 c-25 -10 -53 -21 -62 -24 -13 -4 -18 -16 -18 -45 l0 -40 48 14 c26 8 50 15 55 15 4 0 7 -63 7 -140 l0 -140 -55 0 -55 0 0 -37 0 -38 145 0 145 0 0 38 0 37 -51 0 -50 0 3 190 3 190 -35 -1 c-19 -1 -55 -9 -80 -19z m70 -57 c0 -25 -1 -26 -20 -8 -21 19 -18 35 6 35 9 0 14 -10 14 -27z"/> <path d="M1515 863 l3 -38 101 0 c56 0 101 -2 101 -5 0 -3 -36 -88 -80 -190 -43 -101 -78 -185 -77 -185 1 -1 23 0 48 3 l45 4 77 186 c50 121 77 200 77 225 l0 37 -148 0 -149 0 2 -37z"/> </g> </svg> 
    <span>Calendar</span>
  </a>
  <a href="clients.html" class="tab-item">
     <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1339 1493 c-102 -34 -194 -132 -225 -241 -33 -113 2 -261 81 -342 l34 -35 -67 -35 c-96 -49 -208 -163 -255 -260 -48 -98 -67 -176 -67 -273 0 -76 1 -80 34 -113 l34 -34 549 0 c481 0 551 2 571 16 98 68 53 335 -88 512 -46 59 -142 135 -208 164 l-43 19 37 41 c115 127 122 325 16 463 -39 52 -121 108 -182 125 -52 15 -168 11 -221 -7z m252 -86 c211 -109 206 -411 -8 -512 -141 -67 -308 -11 -381 129 -22 43 -27 64 -27 131 0 70 4 87 30 134 33 60 93 114 151 135 21 8 69 15 106 15 56 1 76 -4 129 -32z m-208 -604 c59 -14 78 -14 130 -4 34 7 75 15 90 18 20 4 50 -5 102 -31 140 -69 253 -213 290 -367 18 -77 19 -161 3 -177 -17 -17 -1059 -17 -1076 0 -7 7 -12 39 -12 72 0 188 124 382 299 469 85 43 84 42 174 20z"/> </g> </svg> 
    <span>Clients</span>
  </a>
  <a href="appointment-settings.html" class="tab-item">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M1497 1543 c-4 -3 -7 -155 -7 -337 l0 -331 -322 3 c-181 1 -329 -2 -337 -7 -8 -5 -11 -16 -8 -25 6 -14 43 -16 337 -16 l330 0 2 -333 c3 -324 3 -332 23 -332 20 0 20 7 20 333 l0 332 332 0 c220 0 334 4 338 10 4 6 1 18 -6 26 -10 13 -60 15 -336 14 l-324 -2 1 322 c0 229 -3 326 -11 336 -13 15 -22 18 -32 7z"/> </g> </svg> 
    <span>Booking</span>
  </a>
  <a href="menu.html" class="tab-item" style="display:none">
    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"  width="300.000000pt" height="169.000000pt" viewBox="0 0 300.000000 169.000000"  preserveAspectRatio="xMidYMid meet">  <g transform="translate(0.000000,169.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none"> <path d="M513 1375 l0 -45 1029 0 1028 0 0 45 0 45 -1028 0 -1029 0 0 -45z"/> <path d="M514 888 l2 -43 1027 -3 1027 -2 0 45 0 45 -1029 0 -1029 0 2 -42z"/> <path d="M513 405 l0 -45 1029 0 1028 0 0 45 0 45 -1028 0 -1029 0 0 -45z"/> </g> </svg> 
    <span>Menu</span>
  </a>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const path = window.location.pathname.split("/").pop(); // get current page like 'calendar.html'
    const tabLinks = document.querySelectorAll(".tab-item");

    tabLinks.forEach(link => {
      const href = link.getAttribute("href");
      if (href === path) {
        link.classList.add("active");
      }
    });
  });
</script>


 <script src="/qassets/js/appointment-settings.js"></script>
  
</body>
</html>